---
import type { MarkdownHeading } from "astro";
import type { Frontmatter } from "../config";
import { GITHUB_EDIT_URL, SITE } from "../config";
import Head from "../components/Head.astro";
import Header from "../components/Header.astro";
import LeftSidebar from "../components/Docs/LeftSidebar.astro";
import RightSidebar from "../components/Docs/RightSidebar.astro";

type Props = {
  frontmatter: Frontmatter;
  headings: MarkdownHeading[];
};

const { frontmatter, headings } = Astro.props as Props;
const currentPage = Astro.url.pathname;
const currentFile = `src/pages${currentPage.replace(/\/$/, "")}.md`;
const githubEditUrl = `${GITHUB_EDIT_URL}/${currentFile}`;
---

<html dir={frontmatter.dir ?? "ltr"} lang={frontmatter.lang ?? "en-us"} class="initial">
	<head>
    <Head frontmatter={frontmatter}/>
		<title>
			{frontmatter.title ? `${frontmatter.title} ðŸš€ ${SITE.title}` : SITE.title}
		</title>
	</head>

	<body class="min-h-screen max-w-7xl mx-auto">
    <Header />
		<main class="grid w-full grid-cols-1 md:grid-cols-[250px_auto] lg:grid-cols-[250px_auto_250px]">
      <LeftSidebar currentPage={currentPage} />

      <div class="col-span-1 flex min-h-full w-full flex-col pt-5">
        <slot/>
      </div>
      <RightSidebar currentPage={currentPage} />

    </main>
	</body>
</html>
